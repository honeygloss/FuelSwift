<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pump | FuelSwift</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
        	font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            font-size: 24px;
            background-color: rgb(20, 36, 105);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        
        .form-label, .H1{
    		font-family: 'Poppins', sans-serif; /* Ensure font family is applied to form labels */
			color: white;
		}
		
		.box-area{			
				width: 400px;
			    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
			    border: 2px solid rgb(33, 37,41); /* Set border to primary color *//* Set the background color for the box area */
				margin: 0;
			    padding: 0;
			    border:none;
		}
		.btn-custom {
            background-color: rgb(30, 46, 125);
            color: yellow;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0);
        }
        .btn-custom:hover {
            background-color: rgb(20, 36, 105);
            color: white;
        }
        .footer-text {
            text-align: center;
            color: #6c757d;
            margin-top: auto;
            padding: 8px 0;
            font-size: 15px; 
        }
        .toggle-switch {
		    display: flex;
		    justify-content: flex-end; /* Align to the right */
		    margin-top: 10px;
		}

		.toggle-switch input {
		    display: none;
		}

        .toggle-switch label {
            cursor: pointer;
            text-indent: -9999px;
            width: 40px;
            height: 20px;
            background: grey;
            display: block;
            border-radius: 100px;
            position: relative;
        }

        .toggle-switch label:after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 14px;
            height: 14px;
            background: #fff;
            border-radius: 50%;
            transition: 0.3s;
        }

        .toggle-switch input:checked + label {
            background: yellow;
        }

        .toggle-switch input:checked + label:after {
            left: calc(100% - 3px);
            transform: translateX(-100%);
        }

        .toggle-switch label:active:after {
            width: 30px;
        }
    </style>
</head>
<body>

	<!-- Navigation Bar with Logo -->
    <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container-fluid d-flex align-items-center">
            <!-- Navbar Brand (Logo) -->
            <a class="navbar-brand" href="#">
                <img src="logo1.png" alt="Logo" width="50" height="45" class="d-inline-block align-text-top me-2">
                <p style="font-weight: bold; color: yellow; font-size: 12px">FuelSwift</p>
            </a>
        </div>
    </nav>
	
	<H3 style="text-align: center; font-weight: bold; color: white; margin-bottom:0px;">Petron Kampar, 31900, Perak, Perak</H3>
	<div class="container d-flex justify-content-center align-items-center">    
    <!-----------------------  Container -------------------------->
    <div class="row rounded-5 p-5 shadow box-area">
        <div class="row align-items-center justify-content-center">
            <div class="col-md-12 text-center mb-3">
                <div class="header-text">
                    <h5 style="color: white;">Select a pump:</h5>
                </div>
                <div>
                    <button class="btn btn-custom" onclick="selectPump(1)">1</button>
                    <button class="btn btn-custom" onclick="selectPump(2)">2</button>
                    <button class="btn btn-custom" onclick="selectPump(3)">3</button>
                    <button class="btn btn-custom" onclick="selectPump(4)">4</button>
                    <button class="btn btn-custom" onclick="selectPump(5)">5</button>
                    <button class="btn btn-custom" onclick="selectPump(6)">6</button>
                </div>
            </div>
            <div class="col-md-12 mb-1">
                <div class="form-group mb-3">
                    <label class="form-label" for="amount">Amount (RM)</label>
                    <input type="text" class="form-control" id="amount" placeholder="Enter amount" oninput="calculateLitres()">        
                </div>
            </div>
            <div class="col-md-12 mb-1">
                <div class="form-group mb-3">
                    <label class="form-label" for="litres">Litres (L)</label>
                    <input type="text" class="form-control bg-secondary" id="litres" placeholder="0.00" style="color:white; border: none;" readonly>
                </div>
            </div>
            <div class="col-md-12 text-center mb-3">
                <div class="form-group mb-4">
                    <button class="btn btn-custom" onclick="selectOption('20')">RM20</button>
                    <button class="btn btn-custom" onclick="selectOption('40')">RM40</button>
                    <button class="btn btn-custom" onclick="selectOption('60')">RM60</button>
                </div>
			    <div class="col-md-12 toggle-switch">
				    <div class="row">
				            <span class="text-white" id="currentPts" style="font-size: 14px; position: absolute; left:0;">Use points</span>	        
				        <div class="col" style="position: relative;">
				            <input type="checkbox" id="switch" style="position: absolute; right:0;"/>
				            <label class="text-white" for="switch" style="position: absolute; right:0;">Toggle</label>
				        </div>
				    </div>
					<div class="mb-3" style="border-bottom: 1px solid gray; margin-top: 5px;"></div>		
				</div>
				<div class="mb-3" style="border-bottom: 1px solid gray; margin-top: 5px;"></div>		
				<div class="col-md-12 mb-4">
				    <div class="row" style="font-size: 17px; left:0;">
				            <span class="text-white" style="font-size: 12px; position: absolute; left:0;">Amount:</span>	        
				        <div class="col" style="font-size: 17px; right:0;">
				            <span class="text-white" style="font-size: 12px; position: absolute; right:0;" id="amount2">RM 0.00</span>	        
				        </div>
				    </div>
				</div>
				<div class="col-md-12 mb-4">
				    <div class="row" style="font-size: 17px; left:0;">
				            <span class="text-white" style="font-size: 12px; position: absolute; left:0;">Points Redeem:</span>	        
				        <div class="col" style="font-size: 17px; right:0;">
				            <span class="text-white" style="font-size: 12px; position: absolute; right:0;" id="ptsRedeem">RM 0.00</span>	        
				        </div>
				    </div>
				</div>
				<div class="col-md-12 mb-4">
				    <div class="row" style="font-size: 17px; left:0;">
				            <span class="text-white" style="font-size: 14px; position: absolute; left:0;">Total Amount:</span>	        
				        <div class="col" style="font-size: 17px; right:0;">
				            <span class="text-white" style="font-size: 14px; position: absolute; right:0;" id="totAmount">RM 0.00</span>	        
				        </div>
				    </div>
				</div>
			 </div>
			</div>
            <div class="col-md-12 text-center">
                <button class="btn btn-primary" onclick="payNow()">Pay Now</button>
            </div>
        </div>
    </div>
</div>
 <div class="footer-text">
     <small>&copy; FuelSwift</small>
</div>


    <!-- Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function selectOption(option) {
            if (option !== 'other') {
                document.getElementById('amount').value = option;
                calculateLitres();
            }
        }
        function payNow() {
            window.location.href = "/FuelSwift/Payment/Payment.html"
        }
        
        const pricePerLiter = 2.00; // Example price per liter. You can update this value as needed.
        function calculateLitres() {
            const amount = document.getElementById('amount').value;
            const litres = amount / pricePerLiter;
            document.getElementById('litres').value = litres.toFixed(2); // Update litres input field
        }
        // Define initial current points
        let currentPoints = 1; // Assuming starting points

        // Function to handle toggle click
        function handleToggle() {
        	 const toggle = document.getElementById('switch');
             const amountInput = document.getElementById('amount');
             const totalAmountElement = document.getElementById('totAmount');
             const originalAmountElement = document.getElementById('amount2'); // Updated this line

             const amount = parseFloat(amountInput.value); // Get the total amount
             const pointsToDeduct = currentPoints * 0.10; // Calculate points to deduct (1 point = 10 cents)
             const currentPointsElement = document.getElementById('currentPts');
             
             if (toggle.checked) {
                 // Deduct points if toggle is checked
                 const deductedAmount = amount - pointsToDeduct;
                 // Update UI with new total amount value
                 totalAmountElement.innerText = `RM ${deductedAmount.toFixed(2)}`;
                 currentPointsElement.innerText = `Redeem ${currentPoints}pts`;
                 originalAmountElement.innerText = `RM ${amount.toFixed(2)}`; // Updated this line to show original amount
                 document.getElementById('ptsRedeem').innerText = `-RM ${pointsToDeduct}`;
             } else {
                 // If toggle is unchecked, show the original amount
                 totalAmountElement.innerText = `RM ${amount.toFixed(2)}`;
                 originalAmountElement.innerText = `RM ${amount.toFixed(2)}`; // Updated this line to show original amount
                 currentPointsElement.innerText = `Use points`; // Added this line to reset the label
             }
         }
         // Add event listener to toggle
         document.getElementById('switch').addEventListener('change', handleToggle);
</script>
</body>
</html>
